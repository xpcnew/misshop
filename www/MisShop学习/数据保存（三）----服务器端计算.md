***
1.导入Excel的时候计算
=============
导入excel的时候，默认是所有字段都是使用的excel的值。但有的时候希望使用服务器端计算的结果，而不是excel上的格子值。这时候可以使用服务器端计算。

例如导入部门数据的时候，希望部门的导入日期为当前服务器时间，那么可以这样处理。
格子的值：```=Date.today()```
格子的保存至属性：```save.serverCalc(ds.导入日期)```

例如导入部门数据的时候，希望部门的描述是关于部门的序列号的信息。
格子的值：```=自动导入部门，编号为"+Sequence.increment("部门")```
格子的保存至属性：```save.serverCalc(ds.描述)```


点击翻译，可以看到生成的更新属性
![image.png](https://upload-images.jianshu.io/upload_images/12920178-35c99fca2d826809.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



***
2.普通页面保存和立即执行
=============
普通页面，保存的时候希望使用服务器的时间而不是客户端的时间。
用法同导入excel

其他计算结果也是类似的。


***
3.普通页面保存，值和计算值不一致的时候
=============
普通页面，做序列的时候，

例如还是部门的描述自动带序号：
格子的值需要设置为：```="自动导入部门，编号为"+Sequence.get("部门")```
>因为打开编辑页面的时候，用户不一定点击保存，所以这时候不能真实增加序列号increment函数，而仅仅用get函数显示序列号。

格子的保存至设置为：``` save.serverCalc(it.描述,"自动导入部门，编号为"+Sequence.increment("部门")) ```
>如果serverCalc没有第二个参数，那么生成的更新属性还是```sequence.get```，这样无法实现保存的时候序列增加。

点击翻译，查看更新属性如下：
![image.png](https://upload-images.jianshu.io/upload_images/12920178-4a6d366d31c6d3a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

PS：通过Sequence.initValue()，不需要设置保存至表达式为serverCalc就可以实现，但这是平台自动做了转换







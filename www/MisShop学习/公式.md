***
1.概述
============

Excel中，通过便捷的公式，完成各种强大功能的体验让人陶醉不已。可以说没有公式，就没有Excel。MisShop同样如此，而且MisShop的公式和Excel很相似，大家很容易掌握。
1.	单元格的值里以“=”开始的是公式。      
2.	公式是计算的结果。
3.	公式里小括号内的先执行。

![什么是公式](https://upload-images.jianshu.io/upload_images/12920178-6dfa2b1d2a9739fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

点击设计器，上方工具栏中的快速预览按钮 (或者浏览器预览按钮 )，可以看到第一行的运行结果。
![公式运行结果](https://upload-images.jianshu.io/upload_images/12920178-2ab6ccb7961cbff4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

公式包括多种类型：常量，运算符，单元格引用，数据，函数。

***

2.和Excel相似的符号
  常量，运算符，单元格引用。
============
* 常量
  *  数值：包括整数和小数， 例如 ```100```, ```2```，```2.5```
  *  文本：使用半角的双引号括起来。例如 ```"张三"``` , ```"李四，王五"``` , ```"abc def"```
  *  是非值：只有两个： ```true```（真），```false```（假）。注意不要加双引号。
  >![常量例子](https://upload-images.jianshu.io/upload_images/12920178-17f411ba00a6e38a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

***
* 运算符：
  *  算术运算符： 
      *  ```+```： 加号，如```3+5```得到```8```；```"你好："+3+"号，张三"```得到 ```"你好：3号张三"```。
      *  ```-``` ：减号
      *  ```*``` ：乘号
      *  ```/``` ：除号
  *  比较运算符:  
      *  ```==``` ：相等，***注意：这里是两个等号，而不是Excel的一个等号***
      *  ```!=``` ：不等
      *  ```>``` ：大于
      *  ```>=``` ：大于或等于（不小于）
      *  ```<``` ：小于
      *  ```<=``` ：小于或等于（不大于）

  * 单元格引用
  和Excel一样，由行号和列号组成，例如```A1```，```B3```.***注意：列号必须大写***。所以```a1```不是单元格引用

***

3.数据引用
============
**页面数据**，可以使用 **数据名称** 来直接引用。
除了系统数据```me```之外，数据引用的实际含义由当前页面的数据定义决定。

*  ```me```：当前用户，名为“me”的用户表的记录。  
*  ```ds```：页面中名为"ds"的记录。
    *  模板生成的“客户管理页面”中，ds表示客户表的数据集。
    *  模板生成的“用户管理页面”中，ds表示用户表的数据集。
    *  如果在 *页面数据* 的配置中，把 ds 定义为一个字符串，初始值为```"结果是"+A1 ```，并且A1 值 为 ```=3+5```，那么 ds 表示的就是这个字符串，ds的值为"结果是8"。

***

4.函数空间和静态函数
============

与Excel的插入函数对话窗口不同，MisShop通过公式提示来完成纯键盘的快捷录入。为了方便提示，MisShop把函数分类定义为函数空间。函数空间的函数称作 **静态函数**，和Excel的普通函数没有区别，只不过可以通过 **小圆点**，提示出来。
>![静态函数提示示例](https://upload-images.jianshu.io/upload_images/12920178-b027ac0160135436.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

常见的函数空间有：
*  Date：日期函数
*  Math：数学函数
*  Str：文本函数（字符串函数）
*  List：数组函数
*  Map：键值对函数

  ```
Math.abs(-31)  // 返回31，求绝对值。
Date.today()    //返回当天日期。
Date.now()     //返回当天时间。
  ```




使用MisShop开发管理系统的第一步就是创建数据表。创建的方法是单击 **添加表** 工具按钮，在弹出的页面上编辑表名、添加字段、设置字段类型，完成表的设计。
![添加表](https://upload-images.jianshu.io/upload_images/12920178-f287c318f0c57787.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
###数据表功能设计
在数据表的设计界面，选项或属性说明如下：
- **表名**、**数据库中表名**：当连接外源性的数据库时，平台设计的数据表名跟外源数据库中的表名可能并不一样，这时可以分别填写。初级使用时，只填写**表名**即可。
- **显示字段**：是指当这个表被其他表引用时，在其他表中显示的这个表的哪一个字段。一般的，某条记录被引用时，我们用这条记录的id表示这条记录，但显示时不显示id这个数值，显示别的字段。例如，**用户**表的**部门**字段是引用**部门**表，那么在用户列表的**部门**一列就显示**部门**的名称，**名称**字段就是**部门**表的**显示字段**。
- **允许更新数据**：数据表中数据添加以后，是否允许修改。
- **自动同步数据库**：表示对表进行操作的时候，自动调整数据库，保证数据库的表和本地的数据表完全一致。
- **添加字段**、**删除字段**：对字段的编辑。
- **上移字段**、**下移字段**：改变字段在工作区的显示位置。
- **唯一性**：设置字段的唯一性约束配置，设置了唯一性的字段或字段组合，其数据在数据表中是唯一的。
- **默认树**：在一个字段由另一个字段展开时，配置默认树，在选择引用数据时，便于使用树结构的方式选择，例如一级部门、二级部门、三级部门的展开。
- **字段分组**：给字段编组，使用模板生成页面时，设置显示在查询页、列表页和详情页的字段。配置时，只需将字段从*全部字段*组往其他字段组拖拽就可以了。
- **联动保存**：配置字段间的业务逻辑关系，如出库表添加10件，则库存表相应减少10件。
- **补足列**：是设计器中数据表的字段比对应第三方数据库中数据表多的，在数据库增加对应多的列。
###字段属性设计
设计数据表，主要在于设计字段的属性，平台需要设置的属性如下：
- **字段名**、**数据库字段名**：当连接外源性的数据库时，平台设计的数据表字段名跟外源数据库中的数据表字段名可能并不一样，这时可以分别填写。
- **类型**：字段的数据类型，单击该栏单元格，弹出数据类型选项对话框。主要有文本、数字、日期、附件、字典、引用、是非等几大类，可以根据需要选择。
![数据类型](https://upload-images.jianshu.io/upload_images/12920178-99464a1f0c7a5076.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
> **文字**：**短文本**是不超过255个字符的字符串，**长文本**适合存储超过255个字符的字符串，**密码**是加密后显示为 \*\*\* 的文本，**格式文本**是像Word一样带字体、字号、颜色、加粗等格式的文本。
>**数字**：包括**整数**、**小数**和**两位小数**。
>**日期**：包括精确到**秒**的时间和精确到**天**的时间，数据类型为**日期**时，在编辑的时候会弹出日历框供选择。
![](https://upload-images.jianshu.io/upload_images/12920178-3f5d696e8aa3a9b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

>**附件**：主要用于大容量的文件，**图像**指一张图片，**多图**指多张图片，显示的时候会显示缩略图，**附件**指单一的文件，**多附件**指多个文件，显示出来是一个附件列表，**单音频**、**单视频**都是可以直接在浏览器播放的文件。
![](https://upload-images.jianshu.io/upload_images/12920178-8b6756b0335e73db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

>**字典选项**：适合数据只有几种取值的情况，如性别、重要程度等。在**字典选项**标签页，单击**字典选项配置**，可以添加和编辑字典选项。
![](https://upload-images.jianshu.io/upload_images/12920178-ab2caaae55be7895.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

>**引用**：是指该字段的值是引用其他数据表的记录，其他表的主键成为该表的外键，通过引用，建立起多表之间主子表的关系。
![](https://upload-images.jianshu.io/upload_images/12920178-5e3689f8e1fa277a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

>**是非**：**true**或**false**，在显示时可以显示为复选框或开关的样式。

- **验证类型**：这个字段属性，设置数据录入时验证数据，有*手机号*、*邮箱号*、*网址*等验证方式，当输入数据不满足验证条件时，不能保存到数据库，确保数据的有效性。![](https://upload-images.jianshu.io/upload_images/12920178-de20743e9b6e94d7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **验证长度**：与**验证类型**组合使用，设置字段的数据有效长度。![](https://upload-images.jianshu.io/upload_images/12920178-6cdfe5fe2a55b5ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **表达式**：这个设置字段的初始值，如时间设置成Date.now()表示默认为当前时间、用户设置成me.id表示默认为当前登录用户。

- **作用类型**：表示前面的**表达式**是怎么作用的。
**初值** 表示只是初值用这个表达式，即当该字段为`null`时，按表达式赋值，赋值以后，可以随意修改。
**不变初值** 表示根据表达式设定好初值后，再不能改变成别的值了。
**固定值** 表示这个字段的数据在任何时候都根据表达式取值，如`Date.now()`，任何时候取值都是当前时间。
**虚列** 表示这个字段在设计器中有，在数据库中实际没有，这个字段的取值从数据库别的字段计算出来，如虚列出生年，表达式为`it.出生日期.year`，从数据库出生日期字段计算得到。
- **必填**：表示是否允许该字段为空。如字段类型为是非项，则默认为必填，字段值默认为false。
- **复合主键**：表示是否把该字段设置为符合主键。系统默认把id列作为主键，如果开发者设置了复合主键字段，则这个字段会优先作为主键使用。设置了复合主键的字段默认会设置为必填。

开发者在开发系统时，数据库的设计重点在数据库结构的设计，如设计几个表，每个表有些什么字段，表之间怎么关联起来。初级使用时，确定好字段名和字段类型，其他默认就行，对数据表复杂的设置可到后期详细掌握。

定义完表就可以根据逻辑和功能需求，开发页面了。
